<%- include("partials/header.ejs") %>

<!-- home section -->

<main>
    <div>
        <h3>All blogs</h3>
    </div> 

    <div class="container blogs">
        <div class="row justify-content-center" >
            <% allPosts.forEach((post, index) => { %>
                <% if (index === (allPosts.length - 1)) { %>
                    <div class="col-sm-12 col-md-12 blog-body"> 
                        <div class="card card-summary" style="background-color: rgb(20, 23, 72);"> 
                            <div class="card-body">
                                <h4 class="card-title" style="color: rgb(141, 195, 241);"><%= post.getSummary() %></h4>
                                <form action="/viewpost" method="POST">
                                    <input type="hidden" name="index" value="<%= index %>">
                                    <button type="submit" class="btn btn-info">View Post</button>
                                </form>
                            </div>
                        </div>
                    </div>
                <% } else {%>
                    <div class="col-sm-12 col-md-6 col-lg-4 mb-4"> 
                        <div class="card card-summary" style="background-color: rgb(20, 23, 72);"> 
                            <div class="card-body">
                                <h4 class="card-title" style="color: rgb(141, 195, 241);"><%= post.getSummary() %></h4>
                                <form action="/viewpost" method="POST">
                                    <input type="hidden" name="index" value="<%= index %>">
                                    <button type="submit" class="btn btn-info">View Post</button>
                                </form>
                            </div>
                        </div>
                    </div>
                    <% } %>
            <% }) %>
        </div>
            
    </div>
    
</main>

<%- include("partials/footer.ejs") %>
